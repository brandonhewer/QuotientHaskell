with-compiler: ghc-9.10.1

packages: .
          ./liquid-fixpoint
          ./liquid-parallel
          ./liquid-prelude
          ./liquid-vector
          ./liquidhaskell-boot
          ./tests
          ./tests/benchmarks/popl18/lib
          ./benchmark-timings
          ./scripts/plot-performance
          ./scripts/profiling-driver

source-repository-package
    type: git
    location: https://github.com/qnikst/ghc-timings-report
    tag: 45ef3498e35897712bde8e002ce18df6d55f8b15

allow-newer:
  ghc-timings:base
  ,blaze-svg:base
  ,blaze-svg:mtl
  ,colonnade:text
  ,rest-rewrite:containers
  ,Chart:lens
  ,Chart-diagrams:lens
  ,SVGFonts:containers

package liquid-fixpoint
  flags: +devel

package liquidhaskell
  ghc-options: -j

package liquidhaskell-boot
  ghc-options: -j
  flags: +devel

constraints:
  -- vector-0.13.2.0 breaks store-0.7.18
  vector <= 0.13.1.0
  -- since 1.4.7 there's a clash between data-default-class and data-default-0.8 when building SVGFonts
  , diagrams-lib < 1.4.7
